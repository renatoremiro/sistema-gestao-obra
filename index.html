<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gest√£o Completo - Obra 292 (Firebase v5.1)</title>
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="assets/css/variables.css">
    <link rel="stylesheet" href="assets/css/components.css">
    <link rel="stylesheet" href="assets/css/layout.css">
    <link rel="stylesheet" href="assets/css/calendar.css">
    <link rel="stylesheet" href="assets/css/responsive.css">
    <link rel="stylesheet" href="assets/css/animations.css">
</head>
<body>
    <!-- Sistema de Notifica√ß√µes -->
    <div id="notification" class="notification">
        <span id="notificationText"></span>
    </div>
    
    <!-- Indicador de Sincroniza√ß√£o -->
    <div id="syncIndicator" class="sync-indicator synced">
        <span class="loading" id="syncLoader" style="display: none;"></span>
        <span id="syncText">‚úì Sincronizado</span>
    </div>
    
    <!-- Indicador de Usu√°rios Online -->
    <div id="usersOnline" class="users-online hidden">
        <div style="font-size: 13px; color: #6b7280;">Equipe Online</div>
        <div class="users-online-list" id="usersOnlineList"></div>
    </div>
    
    <!-- Log de Atividades -->
    <div class="activity-toggle" onclick="toggleActivityLog()">
        üìã Atividades
    </div>
    
    <div id="activityLog" class="activity-log">
        <div class="activity-log-header">
            <span>Atividades Recentes</span>
            <span style="cursor: pointer;" onclick="toggleActivityLog()">‚úï</span>
        </div>
        <div class="activity-log-content" id="activityLogContent">
            <!-- Atividades ser√£o inseridas aqui -->
        </div>
    </div>
    
    <!-- Modal de Conflito -->
    <div id="conflictModal" class="conflict-modal">
        <h3>‚ö†Ô∏è Conflito de Edi√ß√£o</h3>
        <p id="conflictMessage"></p>
        <div class="conflict-options">
            <button class="btn btn-primary" onclick="resolverConflito('manter')">
                Manter Minhas Altera√ß√µes
            </button>
            <button class="btn btn-secondary" onclick="resolverConflito('descartar')">
                Usar Vers√£o do Servidor
            </button>
        </div>
    </div>
    
    <!-- Tela de Login -->
    <div id="loginScreen" class="login-container">
        <h2>üèóÔ∏è Sistema de Gest√£o</h2>
        <p style="text-align: center; color: #6b7280; margin-bottom: 24px;">Obra 292 - Museu Nacional</p>
        
        <div class="form-group">
            <label>Email</label>
            <input type="email" id="loginEmail" placeholder="seu@email.com">
        </div>
        
        <div class="form-group">
            <label>Senha</label>
            <input type="password" id="loginPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
        </div>
        
        <button class="btn btn-primary" style="width: 100%;" onclick="fazerLogin()">
            Entrar
        </button>
        
        <div style="margin-top: 16px; text-align: center;">
            <a href="#" onclick="mostrarRegistro()" style="color: #3b82f6; text-decoration: none;">
                N√£o tem conta? Registre-se
            </a>
        </div>
    </div>
    
    <div class="container" id="mainContainer" class="hidden">
        <!-- Breadcrumb de Navega√ß√£o -->
        <div id="breadcrumb" class="breadcrumb hidden">
            <span id="breadcrumbPath"></span>
        </div>
        
        <div class="header">
            <div>
                <h1>Sistema de Gest√£o Colaborativo</h1>
                <p>Obra 292 - Museu Nacional</p>
                <p style="font-size: 14px; color: #6b7280;">
                    Sistema v5.1 Firebase - Melhorias Avan√ßadas üöÄ
                    <span id="usuarioInfo" style="margin-left: 16px; font-weight: bold;"></span>
                </p>
            </div>
            <div style="text-align: right;">
                <p id="dataAtual" style="color: #6b7280;"></p>
                <p style="font-weight: bold;">
                    <span id="mesAno">Julho 2025</span>
                </p>
                <div style="margin-top: 8px;">
                    <button class="btn btn-success btn-sm" onclick="exportarDados()">
                        üì• Exportar
                    </button>
                    <button class="btn btn-primary btn-sm" onclick="mostrarImportar()">
                        üì§ Importar
                    </button>
                    <button class="btn btn-warning btn-sm" onclick="mostrarMarcarFeriado()">
                        üéâ Feriados
                    </button>
                    <button class="btn btn-danger btn-sm" onclick="fazerLogout()">
                        üö™ Sair
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Dashboard Executivo -->
        <div id="dashboardExecutivo">
            <!-- Estat√≠sticas R√°pidas -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="resumo-numero" style="color: #10b981;" id="statEmDia">0</div>
                    <div>Em Dia</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressEmDia" style="background: #10b981;"></div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="resumo-numero" style="color: #f59e0b;" id="statAtencao">0</div>
                    <div>Aten√ß√£o</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressAtencao" style="background: #f59e0b;"></div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="resumo-numero" style="color: #ef4444;" id="statAtraso">0</div>
                    <div>Atraso</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressAtraso" style="background: #ef4444;"></div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="resumo-numero" style="color: #8b5cf6;" id="statEventos">0</div>
                    <div>Eventos no M√™s</div>
                </div>
            </div>
            
            <!-- Calend√°rio -->
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h3>üìÖ Calend√°rio da Equipe</h3>
                    <div style="display: flex; gap: 8px;">
                        <button class="btn btn-secondary btn-sm" onclick="mudarMes(-1)">‚óÄ Anterior</button>
                        <button class="btn btn-primary btn-sm" onclick="mostrarNovoEvento()">+ Novo Evento</button>
                        <button class="btn btn-secondary btn-sm" onclick="mudarMes(1)">Pr√≥ximo ‚ñ∂</button>
                    </div>
                </div>
                
                <div id="calendario" class="calendario"></div>
                
                <div style="margin-top: 16px; display: flex; gap: 16px; flex-wrap: wrap; font-size: 12px;">
                    <span><span class="status-indicator evento-reuniao"></span>Reuni√£o</span>
                    <span><span class="status-indicator evento-entrega"></span>Entrega</span>
                    <span><span class="status-indicator evento-prazo"></span>Prazo</span>
                    <span><span class="status-indicator evento-marco"></span>Marco</span>
                    <span><span class="status-indicator evento-outro"></span>Outros</span>
                    <span><span class="status-indicator" style="background: #f59e0b;"></span>Feriado</span>
                    <span>üîÑ Evento Recorrente</span>
                </div>
            </div>
            
            <!-- Timeline de Pr√≥ximos Eventos -->
            <div class="timeline-container">
                <h3 style="margin-bottom: 20px;">üìç Pr√≥ximos Eventos Importantes</h3>
                <div id="timelineEventos"></div>
            </div>
            
            <!-- Busca e Filtros -->
            <div class="card">
                <h3 style="margin-bottom: 16px;">üîç Busca e Filtros</h3>
                <div class="search-box">
                    <input type="text" placeholder="Buscar atividades, pessoas, eventos..." id="searchInput" onkeyup="buscarGlobalDebounced()">
                    <button class="btn btn-primary" onclick="buscarGlobal()">Buscar</button>
                </div>
                <div class="filter-pills">
                    <div class="filter-pill active" onclick="filtrarStatus('todos', this)">Todos</div>
                    <div class="filter-pill" onclick="filtrarStatus('verde', this)">Em Dia</div>
                    <div class="filter-pill" onclick="filtrarStatus('amarelo', this)">Aten√ß√£o</div>
                    <div class="filter-pill" onclick="filtrarStatus('vermelho', this)">Atraso</div>
                </div>
            </div>
            
            <!-- Dica do sistema -->
            <div style="background: #dbeafe; padding: 12px 16px; border-radius: 8px; margin-bottom: 20px; font-size: 13px; color: #1e40af;">
                <strong>üî• Sistema v5.1 - Novas Funcionalidades:</strong> 
                <br><strong>‚úÖ Edi√ß√£o Completa de Tarefas:</strong> Agora voc√™ pode editar descri√ß√£o, prioridade e depend√™ncias
                <br><strong>‚ö†Ô∏è Valida√ß√£o de Prazos:</strong> Sistema bloqueia cria√ß√£o de atividades com prazo no passado
                <br><strong>üìä Progresso Autom√°tico:</strong> Calculado automaticamente baseado nas tarefas conclu√≠das
                <br><strong>üîî Alertas Inteligentes:</strong> Notifica√ß√µes autom√°ticas para prazos vencendo
                <br><strong>‚è∞ Monitoramento 24/7:</strong> Sistema verifica automaticamente status das atividades
                <br><strong>üì± Ainda mais responsivo:</strong> Funciona perfeitamente em qualquer dispositivo!
            </div>
            
            <!-- Cards das √Åreas -->
            <div class="grid" id="areasGrid"></div>
        </div>
        
        <!-- Painel de √Årea -->
        <div id="painelArea" class="hidden">
            <span class="back-btn" onclick="voltarDashboard()">‚Üê Voltar ao Dashboard</span>
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h2 id="areaNome">Nome da √Årea</h2>
                        <p id="areaCoordenador" style="color: #6b7280;">Coordenador</p>
                    </div>
                    <button class="btn btn-primary" onclick="mostrarNovaAtividade()">+ Nova Atividade</button>
                </div>
            </div>
            
            <div class="grid">
                <div class="card">
                    <h3>üë• Equipe</h3>
                    <div id="equipeLista"></div>
                </div>
                
                <div class="card">
                    <h3>üìã Atividades em Andamento</h3>
                    <div id="atividadesLista"></div>
                </div>
            </div>
        </div>
        
        <!-- Agenda Individual -->
        <div id="agendaIndividual" class="hidden">
            <span class="back-btn" onclick="voltarParaArea()">‚Üê Voltar para √Årea</span>
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h2 id="pessoaNome">Nome da Pessoa</h2>
                        <p id="pessoaCargo" style="color: #6b7280;">Cargo</p>
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button class="btn btn-primary" onclick="mostrarNovaTarefa()">+ Nova Tarefa</button>
                        <button class="btn btn-warning btn-sm" onclick="mostrarMarcarStatus()">üìç Status Di√°rio</button>
                    </div>
                </div>
            </div>
            
            <div class="grid">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                        <h3>üìä Minhas Responsabilidades</h3>
                        <div style="display: flex; gap: 8px; align-items: center;">
                            <span id="contadorResponsabilidades" style="background: #e5e7eb; padding: 4px 12px; border-radius: 20px; font-size: 14px;">0</span>
                            <button class="btn btn-success btn-sm" onclick="mostrarAdicionarResponsabilidade()" title="Buscar novas responsabilidades">
                                + Adicionar
                            </button>
                        </div>
                    </div>
                    <div style="margin-bottom: 12px;">
                        <select id="filtroResponsabilidades" onchange="renderizarResponsabilidades(estadoSistema.pessoaAtual)" 
                                style="padding: 6px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 13px;">
                            <option value="todas">üîç Todas as responsabilidades</option>
                            <option value="urgentes">‚ö° Urgentes (‚â§ 3 dias)</option>
                            <option value="emdia">‚úÖ Em dia</option>
                            <option value="atencao">‚ö†Ô∏è Aten√ß√£o</option>
                            <option value="atrasadas">‚ùå Atrasadas</option>
                        </select>
                    </div>
                    <div id="responsabilidadesLista"></div>
                </div>
                
                <div class="card">
                    <h3>üìÖ Agenda da Semana</h3>
                    <div class="agenda-semana" id="agendaSemana"></div>
                </div>
            </div>
            
            <div class="card">
                <h3>üìù Observa√ß√µes Pessoais</h3>
                <textarea id="observacoesPessoais" rows="3" style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 8px;" 
                    placeholder="Adicione suas observa√ß√µes..." onblur="salvarObservacoes()"></textarea>
            </div>
        </div>
    </div>
    
    <!-- TODOS OS MODAIS AQUI (mantidos iguais ao original) -->
    <!-- Modal de Novo/Editar Evento -->
    <div id="modalEvento" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <h3 style="margin-bottom: 24px;" id="modalEventoTitulo">Novo Evento</h3>
            <input type="hidden" id="eventoId">
            
            <div class="form-group">
                <label>Tipo de Evento <span style="color: #ef4444;">*</span></label>
                <select id="eventoTipo" onchange="atualizarCamposEvento()">
                    <option value="reuniao">üìÖ Reuni√£o</option>
                    <option value="entrega">üì¶ Entrega</option>
                    <option value="prazo">‚è∞ Prazo</option>
                    <option value="marco">üéØ Marco do Projeto</option>
                    <option value="outro">üìå Outro (visita, auditoria, etc)</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>T√≠tulo <span style="color: #ef4444;">*</span></label>
                <input type="text" id="eventoTitulo" placeholder="Digite o t√≠tulo do evento" required>
                <span class="error-message hidden" id="eventoTituloError">T√≠tulo √© obrigat√≥rio</span>
            </div>
            
            <div class="form-group">
                <label>Descri√ß√£o</label>
                <textarea id="eventoDescricao" rows="3" placeholder="Adicione uma descri√ß√£o detalhada..."></textarea>
            </div>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" id="eventoDiaCompleto" onchange="toggleHorarios()">
                    Evento de dia completo
                </label>
            </div>
            
            <div class="form-group">
                <label>Data <span style="color: #ef4444;">*</span></label>
                <input type="date" id="eventoData" required>
                <span class="error-message hidden" id="eventoDataError">Data √© obrigat√≥ria</span>
            </div>
            
            <div class="form-group" id="grupoDataFim" style="display: none;">
                <label>Data de T√©rmino</label>
                <input type="date" id="eventoDataFim">
                <small style="color: #6b7280;">Para eventos de m√∫ltiplos dias</small>
            </div>
            
            <div class="horario-group" id="grupoHorarios">
                <div class="form-group">
                    <label>Hor√°rio In√≠cio <span style="color: #ef4444;">*</span></label>
                    <input type="time" id="eventoHorarioInicio" value="09:00" required>
                    <span class="error-message hidden" id="eventoHorarioInicioError">Hor√°rio √© obrigat√≥rio</span>
                </div>
                <div class="form-group">
                    <label>Hor√°rio Fim</label>
                    <input type="time" id="eventoHorarioFim" value="10:00">
                </div>
            </div>
            
            <div class="form-group" id="grupoLocal">
                <label>Local</label>
                <input type="text" id="eventoLocal" placeholder="Ex: Sala de reuni√£o, Canteiro de obras...">
            </div>
            
            <div class="form-group">
                <label id="labelPessoas">Participantes</label>
                <select id="eventoPessoas" onchange="adicionarPessoa()">
                    <option value="">Selecionar pessoa...</option>
                </select>
                <div class="pessoas-selecionadas" id="pessoasSelecionadas"></div>
            </div>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" id="eventoRecorrente" onchange="toggleRecorrencia()">
                    Evento recorrente
                </label>
            </div>
            
            <div class="recorrencia-config hidden" id="recorrenciaConfig">
                <div class="form-group">
                    <label>Tipo de Recorr√™ncia</label>
                    <select id="recorrenciaTipo" onchange="atualizarConfigRecorrencia()">
                        <option value="diaria">Di√°ria</option>
                        <option value="semanal">Semanal</option>
                        <option value="quinzenal">Quinzenal</option>
                        <option value="mensal">Mensal</option>
                        <option value="bimestral">Bimestral</option>
                        <option value="personalizada">Personalizada</option>
                    </select>
                </div>
                
                <div class="form-group hidden" id="grupoDiasSemana">
                    <label>Dias da Semana</label>
                    <div class="checkbox-group" style="flex-direction: column; gap: 8px;">
                        <label><input type="checkbox" value="0"> Domingo</label>
                        <label><input type="checkbox" value="1"> Segunda</label>
                        <label><input type="checkbox" value="2"> Ter√ßa</label>
                        <label><input type="checkbox" value="3"> Quarta</label>
                        <label><input type="checkbox" value="4"> Quinta</label>
                        <label><input type="checkbox" value="5"> Sexta</label>
                        <label><input type="checkbox" value="6"> S√°bado</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>At√© quando?</label>
                    <input type="date" id="recorrenciaFim">
                    <small style="color: #6b7280;">Deixe vazio para continuar indefinidamente</small>
                </div>
            </div>
            
            <div class="form-group">
                <label>Vincular a Tarefas</label>
                <button type="button" class="btn btn-secondary btn-sm" onclick="abrirSeletorTarefas()">
                    + Selecionar Tarefas
                </button>
                <div class="tarefas-vinculadas" id="tarefasVinculadas"></div>
            </div>
            
            <div style="display: flex; gap: 8px; justify-content: flex-end;">
                <button class="btn btn-secondary" onclick="fecharModal('modalEvento')">Cancelar</button>
                <button class="btn btn-primary" onclick="salvarEvento()" id="btnSalvarEvento">Salvar</button>
            </div>
        </div>
    </div>
    
    <!-- Modal de Nova/Editar Atividade -->
    <div id="modalAtividade" class="modal">
        <div class="modal-content">
            <h3 style="margin-bottom: 24px;" id="modalAtividadeTitulo">Nova Atividade</h3>
            <input type="hidden" id="atividadeId">
            <div class="form-group">
                <label>Nome da Atividade <span style="color: #ef4444;">*</span></label>
                <input type="text" id="atividadeNome" placeholder="Digite o nome da atividade" required>
                <span class="error-message hidden" id="atividadeNomeError">Nome √© obrigat√≥rio</span>
            </div>
            <div class="form-group">
                <label>Prazo <span style="color: #ef4444;">*</span></label>
                <input type="date" id="atividadePrazo" required onchange="validarPrazoAtividade()">
                <span class="error-message hidden" id="atividadePrazoError">Prazo √© obrigat√≥rio</span>
                <span class="error-message hidden" id="atividadePrazoPassadoError">‚ö†Ô∏è Prazo n√£o pode ser no passado!</span>
            </div>
            <div class="form-group">
                <label>Respons√°veis <span style="color: #ef4444;">*</span></label>
                <select id="atividadeResponsaveis" multiple style="height: 100px;" required></select>
                <small style="color: #6b7280;">Segure Ctrl para selecionar m√∫ltiplos</small>
                <span class="error-message hidden" id="atividadeResponsaveisError">Selecione ao menos um respons√°vel</span>
            </div>
            <div class="form-group">
                <label>Status</label>
                <select id="atividadeStatus">
                    <option value="verde">üü¢ Em Dia</option>
                    <option value="amarelo">üü° Aten√ß√£o</option>
                    <option value="vermelho">üî¥ Atraso</option>
                </select>
            </div>
            <div class="form-group">
                <label>Progresso (%) <span class="tooltip" data-tooltip="Calculado automaticamente pelas tarefas">‚ÑπÔ∏è</span></label>
                <input type="number" id="atividadeProgresso" min="0" max="100" placeholder="Calculado automaticamente" readonly 
                       style="background: #f9fafb; cursor: not-allowed;">
                <small style="color: #6b7280;">O progresso √© calculado automaticamente baseado nas tarefas conclu√≠das</small>
            </div>
            <div style="display: flex; gap: 8px; justify-content: flex-end;">
                <button class="btn btn-secondary" onclick="fecharModal('modalAtividade')">Cancelar</button>
                <button class="btn btn-primary" onclick="salvarAtividade()" id="btnSalvarAtividade">Salvar</button>
            </div>
        </div>
    </div>
    
    <!-- Modal de Nova Tarefa -->
    <div id="modalTarefa" class="modal">
        <div class="modal-content">
            <h3 style="margin-bottom: 24px;">Nova Tarefa Pessoal</h3>
            <div class="form-group">
                <label>Tipo de Agendamento</label>
                <select id="tarefaTipo" onchange="alternarTipoAgendamento()">
                    <option value="semanal">Dia da Semana</option>
                    <option value="data">Data Espec√≠fica</option>
                </select>
            </div>
            <div class="form-group" id="grupoDiaSemana">
                <label>Dia da Semana</label>
                <select id="tarefaDia">
                    <option value="segunda">Segunda-feira</option>
                    <option value="terca">Ter√ßa-feira</option>
                    <option value="quarta">Quarta-feira</option>
                    <option value="quinta">Quinta-feira</option>
                    <option value="sexta">Sexta-feira</option>
                </select>
            </div>
            <div class="form-group hidden" id="grupoData">
                <label>Data Espec√≠fica <span style="color: #ef4444;">*</span></label>
                <input type="date" id="tarefaDataEspecifica">
                <span class="error-message hidden" id="tarefaDataError">Data √© obrigat√≥ria</span>
            </div>
            <div class="form-group">
                <label>Descri√ß√£o <span style="color: #ef4444;">*</span></label>
                <input type="text" id="tarefaDescricao" placeholder="Digite a descri√ß√£o da tarefa" required>
                <span class="error-message hidden" id="tarefaDescricaoError">Descri√ß√£o √© obrigat√≥ria</span>
            </div>
            <div class="form-group">
                <label>Hor√°rio <span style="color: #ef4444;">*</span></label>
                <input type="time" id="tarefaHorario" required>
                <span class="error-message hidden" id="tarefaHorarioError">Hor√°rio √© obrigat√≥rio</span>
            </div>
            <div class="form-group">
                <label>Recorr√™ncia</label>
                <select id="tarefaRecorrencia">
                    <option value="unica">√önica vez</option>
                    <option value="diaria">Di√°ria</option>
                    <option value="semanal">Semanal</option>
                    <option value="quinzenal">Quinzenal</option>
                    <option value="mensal">Mensal</option>
                </select>
            </div>
            <div class="form-group">
                <div class="checkbox-group">
                    <label>
                        <input type="checkbox" id="tarefaCalendario">
                        üìÖ Mostrar no calend√°rio da equipe
                    </label>
                </div>
                <small style="color: #6b7280; font-size: 12px; display: block; margin-top: 4px;">
                    Marque para tarefas importantes que toda equipe deve ver
                </small>
            </div>
            <div style="display: flex; gap: 8px; justify-content: flex-end;">
                <button class="btn btn-secondary" onclick="fecharModal('modalTarefa')">Cancelar</button>
                <button class="btn btn-primary" onclick="salvarTarefa()" id="btnSalvarTarefa">Salvar</button>
            </div>
        </div>
    </div>
    
    <!-- Modal de Editar Tarefa Individual -->
    <div id="modalEditarTarefa" class="modal">
        <div class="modal-content modal-editar-tarefa">
            <h3 style="margin-bottom: 24px;">‚úèÔ∏è Editar Tarefa</h3>
            <input type="hidden" id="editTarefaAtividadeId">
            <input type="hidden" id="editTarefaId">
            
            <div class="form-group">
                <label>Descri√ß√£o <span style="color: #ef4444;">*</span></label>
                <input type="text" id="editTarefaDescricao" placeholder="Digite a descri√ß√£o da tarefa" required>
                <span class="error-message hidden" id="editTarefaDescricaoError">Descri√ß√£o √© obrigat√≥ria</span>
            </div>
            
            <div class="form-group">
                <label>Prioridade</label>
                <select id="editTarefaPrioridade">
                    <option value="baixa">üü¢ Baixa</option>
                    <option value="media">üü° M√©dia</option>
                    <option value="alta">üî¥ Alta</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>Respons√°vel</label>
                <select id="editTarefaResponsavel">
                    <!-- Ser√° preenchido dinamicamente -->
                </select>
            </div>
            
            <div class="form-group">
                <label>Prazo (opcional)</label>
                <input type="date" id="editTarefaPrazo">
            </div>
            
            <div class="form-group">
                <label>Depend√™ncias</label>
                <div id="editTarefaDependencias" style="max-height: 150px; overflow-y: auto; border: 1px solid #d1d5db; border-radius: 8px; padding: 12px;">
                    <!-- Ser√° preenchido dinamicamente -->
                </div>
                <small style="color: #6b7280;">Selecione tarefas que devem ser conclu√≠das antes desta</small>
            </div>
            
            <div class="form-group">
                <label>Observa√ß√µes</label>
                <textarea id="editTarefaObservacoes" rows="3" placeholder="Adicione observa√ß√µes sobre a tarefa..."></textarea>
            </div>
            
            <div style="display: flex; gap: 8px; justify-content: flex-end;">
                <button class="btn btn-secondary" onclick="fecharModal('modalEditarTarefa')">Cancelar</button>
                <button class="btn btn-primary" onclick="salvarEdicaoTarefa()">Salvar Altera√ß√µes</button>
            </div>
        </div>
    </div>
    
    <!-- Modal de Marcar Status -->
    <div id="modalStatus" class="modal">
        <div class="modal-content">
            <h3 style="margin-bottom: 24px;">Marcar Status do Dia</h3>
            <div class="form-group">
                <label>Data <span style="color: #ef4444;">*</span></label>
                <input type="date" id="statusData" required>
                <span class="error-message hidden" id="statusDataError">Data √© obrigat√≥ria</span>
            </div>
            <div class="form-group">
                <label>Status</label>
                <select id="statusTipo">
                    <option value="presente">‚úÖ Presente</option>
                    <option value="ausencia">‚ùå Aus√™ncia</option>
                    <option value="home-office">üè† Home Office</option>
                </select>
            </div>
            <div class="form-group">
                <label>Observa√ß√£o (opcional)</label>
                <input type="text" id="statusObservacao" placeholder="Ex: Consulta m√©dica, reuni√£o externa...">
            </div>
            <div style="display: flex; gap: 8px; justify-content: flex-end;">
                <button class="btn btn-secondary" onclick="fecharModal('modalStatus')">Cancelar</button>
                <button class="btn btn-primary" onclick="salvarStatus()">Salvar</button>
            </div>
        </div>
    </div>
    
    <!-- Modal de Marcar Feriado -->
    <div id="modalFeriado" class="modal">
        <div class="modal-content">
            <h3 style="margin-bottom: 24px;">Gerenciar Feriados</h3>
            <div class="form-group">
                <label>Data <span style="color: #ef4444;">*</span></label>
                <input type="date" id="feriadoData" required>
                <span class="error-message hidden" id="feriadoDataError">Data √© obrigat√≥ria</span>
            </div>
            <div class="form-group">
                <label>Nome do Feriado <span style="color: #ef4444;">*</span></label>
                <input type="text" id="feriadoNome" placeholder="Ex: Dia da Independ√™ncia" required>
                <span class="error-message hidden" id="feriadoNomeError">Nome √© obrigat√≥rio</span>
            </div>
            <div style="display: flex; gap: 8px; justify-content: flex-end;">
                <button class="btn btn-secondary" onclick="fecharModal('modalFeriado')">Cancelar</button>
                <button class="btn btn-primary" onclick="salvarFeriado()">Salvar</button>
            </div>
            
            <hr style="margin: 24px 0;">
            
            <h4 style="margin-bottom: 16px;">Feriados Cadastrados</h4>
            <div id="listaFeriados"></div>
        </div>
    </div>
    
    <!-- Modal de Importar -->
    <div id="modalImportar" class="modal">
        <div class="modal-content">
            <h3 style="margin-bottom: 24px;">Importar Dados</h3>
            <div class="form-group">
                <label>Selecione o arquivo JSON</label>
                <input type="file" id="importFile" accept=".json">
            </div>
            <div style="display: flex; gap: 8px; justify-content: flex-end;">
                <button class="btn btn-secondary" onclick="fecharModal('modalImportar')">Cancelar</button>
                <button class="btn btn-primary" onclick="importarDados()">Importar</button>
            </div>
        </div>
    </div>
    
    <!-- Modal de Sele√ß√£o de Tarefas -->
    <div id="modalSeletorTarefas" class="modal">
        <div class="modal-content" style="max-width: 700px;">
            <h3 style="margin-bottom: 24px;">Vincular Tarefas ao Evento</h3>
            <div class="form-group">
                <label>Buscar tarefas</label>
                <input type="text" id="buscarTarefaVinculo" placeholder="Digite para buscar..." onkeyup="filtrarTarefasVinculo()">
            </div>
            <div style="max-height: 400px; overflow-y: auto; margin: 20px 0;">
                <div id="listaTarefasVinculo"></div>
            </div>
            <div style="display: flex; gap: 8px; justify-content: flex-end;">
                <button class="btn btn-secondary" onclick="fecharModalSeletorTarefas()">Fechar</button>
            </div>
        </div>
    </div>
    
    <!-- ‚úÖ FIREBASE SCRIPTS ATUALIZADOS PARA VERS√ÉO 11.9.1 -->
    <script src="https://www.gstatic.com/firebasejs/11.9.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.9.1/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.9.1/firebase-auth-compat.js"></script>
    
    <!-- ‚úÖ JAVASCRIPT MODULES EM ORDEM CORRETA -->
    
    <!-- 1. Configura√ß√µes primeiro -->
    <script src="assets/js/config/constants.js"></script>
    <script src="assets/js/config/firebase.js"></script>
    
    <!-- 2. Core modules -->
    <script src="assets/js/core/state.js"></script>
    <script src="assets/js/core/auth.js"></script>
    <script src="assets/js/core/sync.js"></script>
    
    <!-- 3. Utility modules -->
    <script src="assets/js/utils/helpers.js"></script>
    <script src="assets/js/utils/validators.js"></script>
    <script src="assets/js/utils/notifications.js"></script>
    <script src="assets/js/utils/dom.js"></script>
    
    <!-- ‚úÖ CORRE√á√ÉO INLINE DE DEPEND√äNCIAS -->
    <script>
    // ========== CORRE√á√ÉO INLINE DE DEPEND√äNCIAS ==========
    (function() {
        console.log('üîß Aplicando corre√ß√µes inline...');
        
        // Criar DOMUtils para compatibilidade
        window.DOMUtils = {
            buscar: typeof buscarElemento !== 'undefined' ? buscarElemento : (sel) => document.querySelector(sel),
            show: (el) => {
                const elemento = typeof el === 'string' ? document.getElementById(el) : el;
                if (elemento) {
                    elemento.style.display = '';
                    elemento.classList.remove('hidden');
                }
            },
            hide: (el) => {
                const elemento = typeof el === 'string' ? document.getElementById(el) : el;
                if (elemento) {
                    elemento.classList.add('hidden');
                }
            },
            setText: (id, text) => {
                const elemento = document.getElementById(id);
                if (elemento) elemento.textContent = text;
            }
        };
        
        // Garantir que formatarData existe
        if (typeof formatarData === 'undefined') {
            window.formatarData = function(data) {
                if (!data) return '';
                try {
                    const dataObj = new Date(data + 'T00:00:00');
                    return dataObj.toLocaleDateString('pt-BR');
                } catch (e) {
                    return data;
                }
            };
        }
        
        // Garantir que calcularDiasRestantes existe
        if (typeof calcularDiasRestantes === 'undefined') {
            window.calcularDiasRestantes = function(prazo) {
                const hoje = new Date();
                hoje.setHours(0, 0, 0, 0);
                const dataPrazo = new Date(prazo + 'T00:00:00');
                dataPrazo.setHours(0, 0, 0, 0);
                const diff = dataPrazo - hoje;
                return Math.floor(diff / (1000 * 60 * 60 * 24));
            };
        }
        
        // Garantir que obterIconeEvento existe
        if (typeof obterIconeEvento === 'undefined') {
            window.obterIconeEvento = function(tipo) {
                const icones = {
                    reuniao: 'üìÖ',
                    entrega: 'üì¶',
                    prazo: '‚è∞',
                    marco: 'üéØ',
                    outro: 'üìå'
                };
                return icones[tipo] || 'üìå';
            };
        }
        
        // Criar fun√ß√µes stub para m√≥dulos faltantes
        const stubs = {
            verificarIntegridadeSistema: () => console.log('üîç Verificando integridade...'),
            atualizarDataAtual: () => {
                const hoje = new Date();
                const elemento = document.getElementById('dataAtual');
                if (elemento) {
                    elemento.textContent = hoje.toLocaleDateString('pt-BR', {
                        weekday: 'long',
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric'
                    });
                }
            },
            iniciarVerificacaoPrazos: () => {
                console.log('‚è∞ Verifica√ß√£o de prazos iniciada');
                // Verificar a cada hora
                setInterval(() => {
                    verificarPrazosVencendo();
                }, 3600000); // 1 hora
                // Verificar imediatamente
                verificarPrazosVencendo();
            },
            verificarPrazosVencendo: () => {
                if (!dados?.areas) return;
                
                const hoje = new Date();
                hoje.setHours(0, 0, 0, 0);
                
                Object.values(dados.areas).forEach(area => {
                    area.atividades?.forEach(atividade => {
                        const diasRestantes = calcularDiasRestantes(atividade.prazo);
                        
                        if (diasRestantes <= 3 && diasRestantes >= 0) {
                            const alertaKey = `${atividade.id}_${atividade.prazo}`;
                            
                            if (!estadoSistema.alertasPrazosExibidos.has(alertaKey)) {
                                estadoSistema.alertasPrazosExibidos.add(alertaKey);
                                
                                if (window.Notifications) {
                                    window.Notifications.atencao(
                                        `‚è∞ Prazo se aproximando: "${atividade.nome}" - ${diasRestantes} dias restantes!`
                                    );
                                }
                            }
                        }
                    });
                });
            },
            mostrarNovaAtividade: () => {
                const modal = document.getElementById('modalAtividade');
                if (modal) {
                    document.getElementById('modalAtividadeTitulo').textContent = 'Nova Atividade';
                    document.getElementById('atividadeId').value = '';
                    modal.classList.add('active');
                    carregarResponsaveisAtividade();
                }
            },
            salvarAtividade: () => {
                const nome = document.getElementById('atividadeNome')?.value;
                const prazo = document.getElementById('atividadePrazo')?.value;
                const responsaveis = document.getElementById('atividadeResponsaveis')?.selectedOptions;
                
                if (!nome || !prazo || !responsaveis?.length) {
                    if (window.Notifications) {
                        window.Notifications.erro('Preencha todos os campos obrigat√≥rios!');
                    }
                    return;
                }
                
                // Validar prazo
                if (!validarPrazoAtividade()) return;
                
                console.log('üíæ Salvando atividade:', nome);
                if (window.Notifications) {
                    window.Notifications.sucesso('Atividade salva com sucesso!');
                }
                
                salvarDados();
                fecharModal('modalAtividade');
            },
            validarPrazoAtividade: () => {
                const prazo = document.getElementById('atividadePrazo')?.value;
                if (!prazo) return false;
                
                const hoje = new Date();
                hoje.setHours(0, 0, 0, 0);
                const dataPrazo = new Date(prazo + 'T00:00:00');
                
                if (dataPrazo < hoje) {
                    document.getElementById('atividadePrazoPassadoError')?.classList.remove('hidden');
                    return false;
                }
                
                document.getElementById('atividadePrazoPassadoError')?.classList.add('hidden');
                return true;
            },
            carregarResponsaveisAtividade: () => {
                const select = document.getElementById('atividadeResponsaveis');
                if (!select || !dados?.areas || !estadoSistema.areaAtual) return;
                
                const area = dados.areas[estadoSistema.areaAtual];
                if (!area?.equipe) return;
                
                select.innerHTML = area.equipe.map(pessoa => 
                    `<option value="${pessoa.nome}">${pessoa.nome} - ${pessoa.cargo}</option>`
                ).join('');
            },
            editarAtividade: (areaKey, index) => {
                const area = dados?.areas?.[areaKey];
                const atividade = area?.atividades?.[index];
                if (!atividade) return;
                
                const modal = document.getElementById('modalAtividade');
                if (modal) {
                    document.getElementById('modalAtividadeTitulo').textContent = 'Editar Atividade';
                    document.getElementById('atividadeId').value = atividade.id;
                    document.getElementById('atividadeNome').value = atividade.nome;
                    document.getElementById('atividadePrazo').value = atividade.prazo;
                    document.getElementById('atividadeStatus').value = atividade.status;
                    document.getElementById('atividadeProgresso').value = atividade.progresso || 0;
                    
                    carregarResponsaveisAtividade();
                    
                    // Selecionar respons√°veis
                    setTimeout(() => {
                        const select = document.getElementById('atividadeResponsaveis');
                        if (select && atividade.responsaveis) {
                            Array.from(select.options).forEach(option => {
                                option.selected = atividade.responsaveis.includes(option.value);
                            });
                        }
                    }, 100);
                    
                    modal.classList.add('active');
                }
            },
            excluirAtividade: (areaKey, index) => {
                if (!confirm('Deseja realmente excluir esta atividade?')) return;
                
                const area = dados?.areas?.[areaKey];
                if (area?.atividades) {
                    area.atividades.splice(index, 1);
                    salvarDados();
                    renderizarArea(areaKey);
                    
                    if (window.Notifications) {
                        window.Notifications.sucesso('Atividade exclu√≠da!');
                    }
                }
            },
            mostrarNovaTarefa: () => {
                const modal = document.getElementById('modalTarefa');
                if (modal) {
                    modal.classList.add('active');
                    console.log('üìù Modal de nova tarefa aberto');
                }
            },
            salvarTarefa: () => {
                const descricao = document.getElementById('tarefaDescricao')?.value;
                if (!descricao) {
                    if (window.Notifications) {
                        window.Notifications.erro('Preencha a descri√ß√£o da tarefa!');
                    }
                    return;
                }
                
                console.log('üíæ Salvando tarefa:', descricao);
                if (window.Notifications) {
                    window.Notifications.sucesso('Tarefa salva com sucesso!');
                }
                
                fecharModal('modalTarefa');
            },
            alternarTipoAgendamento: () => {
                const tipo = document.getElementById('tarefaTipo')?.value;
                const grupoDia = document.getElementById('grupoDiaSemana');
                const grupoData = document.getElementById('grupoData');
                
                if (tipo === 'semanal') {
                    if (grupoDia) grupoDia.classList.remove('hidden');
                    if (grupoData) grupoData.classList.add('hidden');
                } else {
                    if (grupoDia) grupoDia.classList.add('hidden');
                    if (grupoData) grupoData.classList.remove('hidden');
                }
            },
            salvarEdicaoTarefa: () => {
                console.log('üíæ Salvando edi√ß√£o de tarefa');
                if (window.Notifications) {
                    window.Notifications.sucesso('Tarefa atualizada!');
                }
                fecharModal('modalEditarTarefa');
            },
            renderizarAgendaIndividual: (nomePessoa) => {
                console.log('üìã Renderizando agenda de:', nomePessoa);
                
                // Esconder outras telas
                document.getElementById('dashboardExecutivo').classList.add('hidden');
                document.getElementById('painelArea').classList.add('hidden');
                document.getElementById('agendaIndividual').classList.remove('hidden');
                
                // Atualizar informa√ß√µes
                document.getElementById('pessoaNome').textContent = nomePessoa;
                
                // Buscar cargo da pessoa
                let cargo = '';
                if (dados?.areas) {
                    Object.values(dados.areas).forEach(area => {
                        const pessoa = area.equipe?.find(p => p.nome === nomePessoa);
                        if (pessoa) cargo = pessoa.cargo;
                    });
                }
                document.getElementById('pessoaCargo').textContent = cargo;
                
                // Renderizar responsabilidades
                renderizarResponsabilidades(nomePessoa);
                
                // Renderizar agenda semanal
                renderizarAgendaSemanal(nomePessoa);
            },
            renderizarResponsabilidades: (nomePessoa) => {
                const container = document.getElementById('responsabilidadesLista');
                if (!container || !dados?.areas) return;
                
                const responsabilidades = [];
                
                Object.entries(dados.areas).forEach(([areaKey, area]) => {
                    area.atividades?.forEach(atividade => {
                        if (atividade.responsaveis?.includes(nomePessoa)) {
                            responsabilidades.push({
                                ...atividade,
                                area: area.nome,
                                areaKey
                            });
                        }
                    });
                });
                
                // Atualizar contador
                const contador = document.getElementById('contadorResponsabilidades');
                if (contador) contador.textContent = responsabilidades.length;
                
                // Renderizar lista
                container.innerHTML = responsabilidades.map(resp => `
                    <div style="padding: 12px; border: 1px solid #e5e7eb; border-radius: 8px; margin-bottom: 8px;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <strong>${resp.nome}</strong>
                            <span class="status-indicator status-${resp.status}"></span>
                        </div>
                        <div style="font-size: 12px; color: #6b7280; margin-top: 4px;">
                            üìÇ ${resp.area} | üìÖ ${formatarData(resp.prazo)}
                        </div>
                    </div>
                `).join('');
            },
            renderizarAgendaSemanal: (nomePessoa) => {
                const container = document.getElementById('agendaSemana');
                if (!container) return;
                
                const diasSemana = ['Segunda', 'Ter√ßa', 'Quarta', 'Quinta', 'Sexta'];
                
                container.innerHTML = diasSemana.map(dia => `
                    <div class="dia-semana">
                        <h4>${dia}</h4>
                        <div style="font-size: 12px; color: #6b7280;">
                            Sem tarefas agendadas
                        </div>
                    </div>
                `).join('');
            },
            mostrarAdicionarResponsabilidade: () => {
                if (window.Notifications) {
                    window.Notifications.info('Fun√ß√£o em desenvolvimento...');
                }
            },
            salvarObservacoes: () => {
                const observacoes = document.getElementById('observacoesPessoais')?.value;
                console.log('üíæ Salvando observa√ß√µes:', observacoes);
                
                if (window.Notifications) {
                    window.Notifications.sucesso('Observa√ß√µes salvas!');
                }
            },
            mostrarMarcarStatus: () => {
                const modal = document.getElementById('modalStatus');
                if (modal) {
                    document.getElementById('statusData').value = new Date().toISOString().split('T')[0];
                    modal.classList.add('active');
                }
            },
            salvarStatus: () => {
                const data = document.getElementById('statusData')?.value;
                const tipo = document.getElementById('statusTipo')?.value;
                
                if (!data) {
                    if (window.Notifications) {
                        window.Notifications.erro('Selecione uma data!');
                    }
                    return;
                }
                
                console.log('üíæ Salvando status:', tipo, 'para', data);
                if (window.Notifications) {
                    window.Notifications.sucesso('Status marcado!');
                }
                
                fecharModal('modalStatus');
            },
            exportarDados: () => {
                if (!dados) {
                    if (window.Notifications) {
                        window.Notifications.erro('Nenhum dado para exportar!');
                    }
                    return;
                }
                
                try {
                    const dataExport = {
                        versao: VERSAO_SISTEMA,
                        exportadoEm: new Date().toISOString(),
                        dados: dados
                    };
                    
                    const json = JSON.stringify(dataExport, null, 2);
                    const blob = new Blob([json], { type: 'application/json' });
                    const url = URL.createObjectURL(blob);
                    
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `backup_sistema_${new Date().toISOString().split('T')[0]}.json`;
                    a.click();
                    
                    URL.revokeObjectURL(url);
                    
                    if (window.Notifications) {
                        window.Notifications.sucesso('Dados exportados com sucesso!');
                    }
                } catch (error) {
                    console.error('Erro ao exportar:', error);
                    if (window.Notifications) {
                        window.Notifications.erro('Erro ao exportar dados!');
                    }
                }
            },
            mostrarImportar: () => {
                const modal = document.getElementById('modalImportar');
                if (modal) {
                    modal.classList.add('active');
                }
            },
            importarDados: () => {
                const input = document.getElementById('importFile');
                const file = input?.files?.[0];
                
                if (!file) {
                    if (window.Notifications) {
                        window.Notifications.erro('Selecione um arquivo!');
                    }
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        const importData = JSON.parse(e.target.result);
                        
                        if (!importData.dados) {
                            throw new Error('Formato inv√°lido');
                        }
                        
                        if (confirm('Isso substituir√° todos os dados atuais. Continuar?')) {
                            dados = importData.dados;
                            salvarDados();
                            renderizarDashboard();
                            
                            if (window.Notifications) {
                                window.Notifications.sucesso('Dados importados com sucesso!');
                            }
                            
                            fecharModal('modalImportar');
                        }
                    } catch (error) {
                        console.error('Erro ao importar:', error);
                        if (window.Notifications) {
                            window.Notifications.erro('Erro ao importar arquivo!');
                        }
                    }
                };
                
                reader.readAsText(file);
            },
            mostrarMarcarFeriado: () => {
                const modal = document.getElementById('modalFeriado');
                if (modal) {
                    modal.classList.add('active');
                    listarFeriados();
                }
            },
            salvarFeriado: () => {
                const data = document.getElementById('feriadoData')?.value;
                const nome = document.getElementById('feriadoNome')?.value;
                
                if (!data || !nome) {
                    if (window.Notifications) {
                        window.Notifications.erro('Preencha todos os campos!');
                    }
                    return;
                }
                
                if (!dados.feriados) dados.feriados = {};
                dados.feriados[data] = nome;
                
                salvarDados();
                renderizarCalendario();
                listarFeriados();
                
                if (window.Notifications) {
                    window.Notifications.sucesso('Feriado salvo!');
                }
                
                // Limpar campos
                document.getElementById('feriadoData').value = '';
                document.getElementById('feriadoNome').value = '';
            },
            listarFeriados: () => {
                const container = document.getElementById('listaFeriados');
                if (!container || !dados?.feriados) return;
                
                const feriados = Object.entries(dados.feriados);
                
                if (feriados.length === 0) {
                    container.innerHTML = '<p style="color: #6b7280;">Nenhum feriado cadastrado</p>';
                    return;
                }
                
                container.innerHTML = feriados
                    .sort((a, b) => a[0].localeCompare(b[0]))
                    .map(([data, nome]) => `
                        <div style="display: flex; justify-content: space-between; align-items: center; 
                                    padding: 8px; border: 1px solid #e5e7eb; border-radius: 4px; margin-bottom: 4px;">
                            <span>${formatarData(data)} - ${nome}</span>
                            <button class="btn btn-sm" onclick="excluirFeriado('${data}')" 
                                    style="background: #ef4444; color: white;">Excluir</button>
                        </div>
                    `).join('');
            },
            excluirFeriado: (data) => {
                if (!confirm('Deseja excluir este feriado?')) return;
                
                delete dados.feriados[data];
                salvarDados();
                renderizarCalendario();
                listarFeriados();
                
                if (window.Notifications) {
                    window.Notifications.sucesso('Feriado exclu√≠do!');
                }
            },
            abrirSeletorTarefas: () => {
                if (window.Notifications) {
                    window.Notifications.info('Seletor de tarefas em desenvolvimento...');
                }
            },
            fecharModalSeletorTarefas: () => {
                const modal = document.getElementById('modalSeletorTarefas');
                if (modal) modal.classList.remove('active');
            },
            filtrarTarefasVinculo: () => {
                console.log('üîç Filtrando tarefas...');
            },
            voltarParaArea: () => {
                if (estadoSistema.areaAtual) {
                    renderizarArea(estadoSistema.areaAtual);
                } else {
                    voltarDashboard();
                }
            }
        };
        
        // Aplicar stubs apenas se a fun√ß√£o n√£o existir
        Object.entries(stubs).forEach(([nome, funcao]) => {
            if (typeof window[nome] === 'undefined') {
                window[nome] = funcao;
            }
        });
        
        // Adicionar stubs ao window global para outras fun√ß√µes auxiliares
        window.verificarPrazosVencendo = stubs.verificarPrazosVencendo;
        window.carregarResponsaveisAtividade = stubs.carregarResponsaveisAtividade;
        window.renderizarResponsabilidades = stubs.renderizarResponsabilidades;
        window.renderizarAgendaSemanal = stubs.renderizarAgendaSemanal;
        window.listarFeriados = stubs.listarFeriados;
        window.excluirFeriado = stubs.excluirFeriado;
        
        console.log('‚úÖ Corre√ß√µes inline aplicadas com sucesso!');
    })();
    </script>
    
    <!-- 4. Feature modules -->
    <script src="assets/js/modules/dashboard.js"></script>
    <script src="assets/js/modules/calendario.js"></script>
    <!-- Comentar m√≥dulos que ainda n√£o existem
    <script src="assets/js/modules/tarefas.js"></script>
    <script src="assets/js/modules/atividades.js"></script>
    <script src="assets/js/modules/agenda.js"></script>
    <script src="assets/js/modules/relatorios.js"></script>
    -->
    
    <!-- 5. Core initialization -->
    <script src="assets/js/core/init.js"></script>
    
    <!-- 6. Main app initialization -->
    <script src="assets/js/app.js"></script>
</body>
</html>